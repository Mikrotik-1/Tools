<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-VV99LZRKBJ"></script>
    <script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}gtag('js',new Date());gtag('config','G-VV99LZRKBJ');</script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="description" content="Ù…Ø­Ù„Ù„ Ø³Ø¬Ù„Ø§Øª Ø§Ù„Ù…Ø§ÙŠÙƒØ±ÙˆØªÙŠÙƒ - Ø£Ø¯Ø§Ø© Ù…Ø¬Ø§Ù†ÙŠØ© Ù„ØªØ­Ù„ÙŠÙ„ ÙˆÙÙ‡Ù… Ø³Ø¬Ù„Ø§Øª Ø¬Ù‡Ø§Ø² Ø§Ù„Ù…Ø§ÙŠÙƒØ±ÙˆØªÙŠÙƒ Ø¨Ø³Ù‡ÙˆÙ„Ø©">
    <meta name="keywords" content="Ù…ÙŠÙƒØ±ÙˆØªÙŠÙƒ, Ù…Ø­Ù„Ù„ Ø³Ø¬Ù„Ø§Øª, ØªØ­Ù„ÙŠÙ„ Ø³Ø¬Ù„Ø§Øª, MikroTik, Log Analyzer">
    <meta name="author" content="Sameh El-Sayed - 01092503391">
    <meta name="google-site-verification" content="google6096a3c525d406ea" />
    <meta property="og:title" content="MikroTools | Ù…Ø­Ù„Ù„ Ø³Ø¬Ù„Ø§Øª Ø§Ù„Ù…Ø§ÙŠÙƒØ±ÙˆØªÙŠÙƒ">
    <meta property="og:description" content="Ø£Ø¯Ø§Ø© Ù…Ø¬Ø§Ù†ÙŠØ© Ù„ØªØ­Ù„ÙŠÙ„ ÙˆÙÙ‡Ù… Ø³Ø¬Ù„Ø§Øª Ø¬Ù‡Ø§Ø² Ø§Ù„Ù…Ø§ÙŠÙƒØ±ÙˆØªÙŠÙƒ Ø¨Ø³Ù‡ÙˆÙ„Ø©">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://mikro-tools.com/log-analyzer">
    <link rel="canonical" href="https://mikro-tools.com/log-analyzer">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700;800&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <title>MikroTools | Ù…Ø­Ù„Ù„ Ø³Ø¬Ù„Ø§Øª Ø§Ù„Ù…Ø§ÙŠÙƒØ±ÙˆØªÙŠÙƒ</title>
    <style>
        :root{--primary:#6366f1;--primary-dark:#4f46e5;--primary-light:#818cf8;--secondary:#10b981;--accent:#f59e0b;--dark:#1e293b;--light:#f8fafc;--gray:#64748b;--gradient:linear-gradient(135deg,#6366f1 0%,#8b5cf6 50%,#d946ef 100%);--gradient-dark:linear-gradient(135deg,#1e293b 0%,#0f172a 100%);--gradient-card:linear-gradient(135deg,#ffffff 0%,#f8fafc 100%);--shadow:0 20px 40px rgba(99,102,241,0.1);--shadow-lg:0 30px 60px rgba(0,0,0,0.15);--border-radius:16px;}
        *{margin:0;padding:0;box-sizing:border-box;}
        body{background:var(--light);color:var(--dark);line-height:1.8;min-height:100vh;overflow-x:hidden;font-family:'Poppins',sans-serif;}
        body.ar{font-family:'Tajawal',sans-serif;}
        body.rtl{direction:rtl;text-align:right;}
        body.rtl .dropdown-item:hover{transform:translateX(5px);}
        body.en .new-badge{margin-left:5px;margin-right:0;}

        /* NAVBAR */
        .navbar{background:var(--dark);padding:1rem 2rem;position:fixed;top:0;right:0;left:0;z-index:1000;box-shadow:0 5px 20px rgba(0,0,0,0.1);}
        .nav-container{max-width:1400px;margin:0 auto;display:flex;justify-content:space-between;align-items:center;}
        .logo{display:flex;align-items:center;gap:15px;text-decoration:none;color:white;}
        .logo-icon{background:var(--gradient);width:50px;height:50px;border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:24px;animation:pulse 2s infinite;}
        @keyframes pulse{0%,100%{transform:scale(1);}50%{transform:scale(1.05);}}
        .logo-text{font-size:24px;font-weight:800;color:white;}
        .nav-links{display:flex;gap:0.5rem;align-items:center;}
        .nav-link{color:#cbd5e1;text-decoration:none;font-weight:500;transition:all 0.3s;padding:8px 16px;border-radius:10px;position:relative;display:flex;align-items:center;gap:6px;cursor:pointer;white-space:nowrap;}
        .nav-link:hover{color:white;background:rgba(255,255,255,0.1);}
        .nav-link.active{color:white;background:var(--primary);}
        .nav-cta{background:var(--gradient);color:white;padding:5px 15px;border-radius:12px;font-weight:600;text-decoration:none;transition:all 0.3s;white-space:nowrap;display:flex;align-items:center;gap:5px;font-size:13px;}
        .nav-cta:hover{transform:translateY(-2px);box-shadow:0 10px 25px rgba(99,102,241,0.3);}
        .menu-toggle{display:none;background:none;border:none;color:white;font-size:24px;cursor:pointer;}
        .lang-switcher{display:flex;gap:5px;background:rgba(255,255,255,0.05);padding:4px;border-radius:30px;border:1px solid rgba(255,255,255,0.1);margin:0 10px;}
        .lang-btn{background:transparent;border:none;color:#cbd5e1;padding:6px 16px;border-radius:25px;font-size:14px;font-weight:600;cursor:pointer;transition:all 0.3s;display:flex;align-items:center;gap:6px;}
        .lang-btn:hover{color:white;background:rgba(255,255,255,0.1);}
        .lang-btn.active{background:var(--primary);color:white;}
        .dropdown{position:relative;display:inline-block;}
        .dropdown-toggle{display:flex;align-items:center;gap:5px;cursor:pointer;}
        .dropdown-arrow{font-size:12px;transition:transform 0.3s;}
        .dropdown:hover .dropdown-arrow{transform:rotate(180deg);}
        .dropdown-menu{position:absolute;top:100%;right:0;background:var(--dark);min-width:250px;border-radius:12px;padding:8px;box-shadow:0 10px 30px rgba(0,0,0,0.2);opacity:0;visibility:hidden;transform:translateY(-10px);transition:all 0.3s;z-index:1000;border:1px solid rgba(255,255,255,0.1);}
        .dropdown:hover .dropdown-menu{opacity:1;visibility:visible;transform:translateY(0);}
        .dropdown-item{display:flex;align-items:center;gap:12px;padding:12px 15px;color:#cbd5e1;text-decoration:none;border-radius:8px;transition:all 0.3s;}
        .dropdown-item:hover{background:rgba(255,255,255,0.1);color:white;transform:translateX(-5px);}
        .dropdown-item i{width:20px;font-size:16px;color:var(--primary);}
        .new-badge{background:linear-gradient(135deg,#ff416c,#ff4b2b);color:white;font-size:10px;font-weight:800;padding:3px 8px;border-radius:30px;margin-right:5px;display:inline-block;animation:newGlow 1.5s ease-in-out infinite;box-shadow:0 2px 10px rgba(255,65,108,0.5);border:1px solid rgba(255,255,255,0.3);position:relative;top:-2px;text-transform:uppercase;letter-spacing:0.5px;}
        @keyframes newGlow{0%{transform:scale(1);}50%{transform:scale(1.1);box-shadow:0 4px 20px rgba(255,65,108,0.9);}100%{transform:scale(1);}}

        /* MAIN */
        .main-container{max-width:1400px;margin:0 auto;padding:100px 20px 40px;}
        @keyframes glowPulse{0%{text-shadow:0 0 5px rgba(99,102,241,0.2);}50%{text-shadow:0 0 20px rgba(139,92,246,0.6),0 0 35px rgba(217,70,239,0.4);}100%{text-shadow:0 0 5px rgba(99,102,241,0.2);}}
        @keyframes float{0%{transform:translateY(0px);}50%{transform:translateY(-5px);}100%{transform:translateY(0px);}}
        @keyframes rotateIcon{0%{transform:rotate(0deg);}25%{transform:rotate(10deg);}75%{transform:rotate(-10deg);}100%{transform:rotate(0deg);}}
        .animated-title{animation:glowPulse 3s ease-in-out infinite,float 6s ease-in-out infinite;display:inline-block;background:linear-gradient(135deg,#6366f1,#8b5cf6,#d946ef);-webkit-background-clip:text;-webkit-text-fill-color:transparent;font-weight:800;font-size:3rem;}
        .title-icon{animation:rotateIcon 4s linear infinite;display:inline-block;color:var(--primary);font-size:3rem;margin-left:15px;}
        .title-wrapper{display:flex;align-items:center;justify-content:center;margin-bottom:20px;}
        .site-card{background:var(--gradient-card);border-radius:var(--border-radius);box-shadow:var(--shadow);padding:30px;margin-bottom:30px;border:1px solid rgba(99,102,241,0.1);}
        .section-title{font-size:2rem;font-weight:700;margin-bottom:25px;display:flex;align-items:center;gap:15px;color:var(--dark);}
        .section-title i{color:var(--primary);}

        /* ===== DIRECT CONNECTION - NEW FEATURE ===== */
        .connect-card{background:linear-gradient(135deg,#0f172a 0%,#1e293b 100%);border-radius:var(--border-radius);padding:30px;margin-bottom:30px;border:2px solid rgba(99,102,241,0.4);position:relative;overflow:hidden;}
        .connect-card::before{content:'';position:absolute;top:-50%;right:-50%;width:200%;height:200%;background:radial-gradient(circle,rgba(99,102,241,0.05) 0%,transparent 60%);pointer-events:none;}
        .connect-title{font-size:1.6rem;font-weight:800;color:white;margin-bottom:8px;display:flex;align-items:center;gap:12px;}
        .connect-subtitle{color:#94a3b8;margin-bottom:25px;font-size:0.95rem;}
        .connect-badge{background:linear-gradient(135deg,#10b981,#059669);color:white;font-size:11px;font-weight:700;padding:4px 12px;border-radius:20px;display:inline-block;margin-bottom:20px;}

        .connect-form{display:grid;grid-template-columns:1fr 1fr 1fr auto;gap:15px;align-items:end;}
        .connect-field{display:flex;flex-direction:column;gap:8px;}
        .connect-label{color:#94a3b8;font-size:0.85rem;font-weight:600;display:flex;align-items:center;gap:6px;}
        .connect-label i{color:var(--primary-light);}
        .connect-input{background:rgba(255,255,255,0.08);border:1.5px solid rgba(255,255,255,0.15);color:white;padding:12px 16px;border-radius:12px;font-size:0.95rem;transition:all 0.3s;outline:none;}
        .connect-input:focus{border-color:var(--primary);background:rgba(99,102,241,0.1);box-shadow:0 0 0 3px rgba(99,102,241,0.15);}
        .connect-input::placeholder{color:#475569;}

        .connect-btn{background:var(--gradient);color:white;border:none;padding:12px 28px;border-radius:12px;font-weight:700;font-size:1rem;cursor:pointer;transition:all 0.3s;display:flex;align-items:center;gap:8px;white-space:nowrap;}
        .connect-btn:hover{transform:translateY(-2px);box-shadow:0 10px 25px rgba(99,102,241,0.4);}
        .connect-btn:disabled{opacity:0.5;cursor:not-allowed;transform:none;}

        .connect-status{margin-top:20px;padding:15px 20px;border-radius:12px;font-weight:600;display:none;align-items:center;gap:10px;}
        .connect-status.connecting{background:rgba(99,102,241,0.15);border:1px solid rgba(99,102,241,0.3);color:#a5b4fc;display:flex;}
        .connect-status.success{background:rgba(16,185,129,0.15);border:1px solid rgba(16,185,129,0.3);color:#6ee7b7;display:flex;}
        .connect-status.error{background:rgba(239,68,68,0.15);border:1px solid rgba(239,68,68,0.3);color:#fca5a5;display:flex;}

        .connect-info-box{background:rgba(245,158,11,0.1);border:1px solid rgba(245,158,11,0.3);border-radius:12px;padding:15px 20px;margin-top:20px;color:#fcd34d;font-size:0.9rem;}
        .connect-info-box i{margin-left:8px;}

        /* spinning loader */
        @keyframes spin{to{transform:rotate(360deg);}}
        .spinner{display:inline-block;width:16px;height:16px;border:2px solid rgba(255,255,255,0.3);border-top-color:white;border-radius:50%;animation:spin 0.8s linear infinite;}

        /* Tabs for input method */
        .input-tabs{display:flex;gap:5px;background:rgba(99,102,241,0.08);padding:6px;border-radius:14px;margin-bottom:25px;border:1px solid rgba(99,102,241,0.15);}
        .input-tab{flex:1;padding:10px 20px;border:none;border-radius:10px;font-weight:600;font-size:0.95rem;cursor:pointer;transition:all 0.3s;background:transparent;color:var(--gray);display:flex;align-items:center;justify-content:center;gap:8px;}
        .input-tab.active{background:var(--gradient);color:white;box-shadow:0 4px 15px rgba(99,102,241,0.3);}
        .input-tab:hover:not(.active){background:rgba(99,102,241,0.1);color:var(--primary);}
        .tab-content{display:none;}
        .tab-content.active{display:block;}

        /* REST setup guide */
        .setup-guide{background:#f8fafc;border-radius:14px;padding:20px;margin-top:20px;border:1px solid #e2e8f0;}
        .setup-step{display:flex;align-items:flex-start;gap:14px;padding:12px 0;border-bottom:1px solid #e2e8f0;}
        .setup-step:last-child{border-bottom:none;}
        .setup-num{background:var(--primary);color:white;width:30px;height:30px;border-radius:8px;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:0.85rem;flex-shrink:0;margin-top:3px;}
        .code-inline{background:#1e293b;color:#38bdf8;padding:3px 10px;border-radius:6px;font-family:monospace;font-size:0.9rem;}

        /* existing styles */
        .tooltip-hint{position:relative;cursor:help;border-bottom:2px dotted var(--primary);}
        .command-box{background:#f1f5f9;border:2px solid var(--primary);border-radius:20px;padding:25px;margin:20px 0;position:relative;overflow:hidden;}
        .command-text{font-size:2.5rem;color:var(--primary-dark);font-family:'Courier New',monospace;text-align:center;margin:15px 0;padding:20px;background:white;border-radius:18px;border:1px solid var(--primary-light);letter-spacing:2px;direction:ltr;}
        .copy-command-btn{background:var(--primary);color:white;border:none;padding:15px 30px;border-radius:50px;font-size:1.2rem;font-weight:600;display:inline-flex;align-items:center;gap:10px;margin:10px 0;transition:all 0.3s;cursor:pointer;}
        .copy-command-btn:hover{background:var(--primary-dark);transform:translateY(-3px);}
        .step-detail{display:flex;align-items:center;gap:20px;background:white;padding:20px;border-radius:18px;margin:15px 0;border:1px solid #e2e8f0;}
        .step-num{width:45px;height:45px;background:var(--primary);border-radius:14px;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:1.3rem;color:white;flex-shrink:0;}
        .note-box{background:#fef9c3;border-radius:24px;padding:25px;margin-top:20px;border:1px solid #fbbf24;}
        .terminal-header{display:flex;align-items:center;gap:12px;margin-bottom:15px;flex-wrap:wrap;}
        .terminal-dots{display:flex;gap:8px;}
        .terminal-dot{width:14px;height:14px;border-radius:50%;}
        .dot-red{background:#ff5f56;}.dot-yellow{background:#ffbd2e;}.dot-green{background:#27c93f;}
        .terminal-title{color:var(--gray);font-size:1rem;}
        .badge{display:inline-block;padding:5px 10px;border-radius:20px;font-size:0.8rem;font-weight:600;}
        .bg-primary{background:var(--primary);color:white;}
        .command-input-pro{width:100%;min-height:200px;background:white;border:2px solid #e2e8f0;border-radius:20px;padding:20px;color:var(--dark);font-family:'Courier New',monospace;font-size:14px;line-height:1.8;resize:vertical;outline:none;direction:ltr;text-align:left;}
        .command-input-pro:focus{border-color:var(--primary);box-shadow:0 0 0 3px rgba(99,102,241,0.1);}
        .input-stats{display:flex;justify-content:space-between;align-items:center;margin:15px 0 0;flex-wrap:wrap;gap:10px;}
        .stat-badge{background:#f1f5f9;padding:8px 20px;border-radius:30px;color:var(--dark);border:1px solid #e2e8f0;}
        .action-btn{background:white;border:1px solid #e2e8f0;color:var(--dark);width:45px;height:45px;border-radius:14px;margin-left:8px;transition:all 0.3s;cursor:pointer;}
        .action-btn:hover{background:var(--primary);color:white;transform:translateY(-3px);}
        .analyze-btn{background:var(--gradient);border:none;color:white;padding:20px;border-radius:30px;font-weight:700;font-size:1.3rem;width:100%;margin-top:25px;box-shadow:var(--shadow);transition:all 0.3s;cursor:pointer;}
        .analyze-btn:hover{transform:translateY(-3px);box-shadow:var(--shadow-lg);}
        .example-buttons{display:flex;flex-wrap:wrap;gap:10px;margin:20px 0;}
        .example-btn{background:#f1f5f9;border:1px solid #e2e8f0;color:var(--dark);padding:8px 16px;border-radius:30px;cursor:pointer;transition:all 0.3s;font-size:0.9rem;}
        .example-btn:hover{background:var(--primary);color:white;border-color:var(--primary);transform:translateY(-2px);}
        .stats-grid{display:grid;grid-template-columns:repeat(6,1fr);gap:15px;margin-bottom:30px;}
        .stat-item{background:white;border:1px solid #e2e8f0;border-radius:24px;padding:20px 15px;text-align:center;box-shadow:0 5px 15px rgba(0,0,0,0.05);}
        .stat-item i{margin-bottom:10px;}
        .stat-value{font-size:2.2rem;font-weight:900;color:var(--primary);line-height:1.2;}
        .charts-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:20px;margin-bottom:30px;}
        .chart-card{background:white;border:1px solid #e2e8f0;border-radius:24px;padding:20px;box-shadow:0 5px 15px rgba(0,0,0,0.05);}
        .chart-card h5{margin-bottom:15px;color:var(--dark);}
        .chart-container{height:250px;position:relative;}
        .table-container{background:white;border:1px solid #e2e8f0;border-radius:24px;padding:25px;box-shadow:0 5px 15px rgba(0,0,0,0.05);}
        .table-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;flex-wrap:wrap;gap:15px;}
        .table-responsive{max-height:500px;overflow-y:auto;border-radius:20px;border:1px solid #e2e8f0;}
        .table{width:100%;border-collapse:collapse;}
        .table th{background:#f8fafc;color:var(--dark);padding:18px 15px;position:sticky;top:0;font-weight:700;border-bottom:2px solid #e2e8f0;}
        .table td{padding:15px;border-bottom:1px solid #e2e8f0;}
        .severity-badge{display:inline-block;padding:6px 16px;border-radius:30px;font-size:0.9rem;font-weight:700;min-width:90px;text-align:center;}
        .severity-critical{background:#fee2e2;color:#991b1b;border:1px solid #ef4444;}
        .severity-error{background:#ffedd5;color:#9a3412;border:1px solid #f59e0b;}
        .severity-warning{background:#fef9c3;color:#854d0e;border:1px solid #eab308;}
        .severity-info{background:#dbeafe;color:#1e40af;border:1px solid #3b82f6;}
        .ip-tag{background:#f1f5f9;color:var(--primary-dark);padding:5px 12px;border-radius:20px;font-family:monospace;font-size:0.9rem;display:inline-block;margin:3px;border:1px solid #e2e8f0;}
        .log-explanation{font-size:0.9rem;color:#059669;background:#f0fdf4;padding:8px 12px;border-radius:12px;margin-top:5px;border:1px solid #10b981;}
        .footer{background:var(--dark);color:#94a3b8;padding:3rem 2rem;text-align:center;margin-top:50px;border-radius:var(--border-radius) var(--border-radius) 0 0;}
        .footer-content{max-width:1200px;margin:0 auto;}
        .footer-text{font-size:1rem;margin-bottom:1rem;}
        .copyright{color:#64748b;font-size:0.9rem;}
        .social-iframe{position:fixed;left:20px;bottom:20px;width:90px;height:280px;border:none;z-index:99999;background:transparent;pointer-events:auto;}
        @keyframes slideIn{from{transform:translateX(100%);opacity:0;}to{transform:translateX(0);opacity:1;}}
        @keyframes slideOut{from{transform:translateX(0);opacity:1;}to{transform:translateX(100%);opacity:0;}}

        @media(max-width:1200px){.stats-grid{grid-template-columns:repeat(3,1fr);}.charts-grid{grid-template-columns:repeat(2,1fr);}.connect-form{grid-template-columns:1fr 1fr;}}
        @media(max-width:992px){
            .nav-links{display:none;position:absolute;top:100%;right:0;background:var(--dark);width:100%;padding:1rem;flex-direction:column;align-items:flex-start;max-height:80vh;overflow-y:auto;}
            .nav-links.active{display:flex;}.menu-toggle{display:block;}
            .dropdown{width:100%;}.dropdown-menu{position:static;width:100%;display:none;opacity:1;visibility:visible;transform:none;box-shadow:none;background:rgba(255,255,255,0.05);}
            .dropdown.active .dropdown-menu{display:block;}.dropdown-toggle{width:100%;justify-content:space-between;}
            .nav-cta{width:100%;text-align:center;justify-content:center;margin-top:10px;}
            .lang-switcher{width:100%;justify-content:center;margin-bottom:20px;order:-1;}.lang-btn{flex:1;justify-content:center;}
            .connect-form{grid-template-columns:1fr 1fr;}
        }
        @media(max-width:768px){
            .main-container{padding-top:80px;}
            .stats-grid,.charts-grid{grid-template-columns:1fr;}
            .animated-title{font-size:2rem;}.title-icon{font-size:2rem;}
            .command-text{font-size:1.5rem;}.site-card{padding:20px;}
            .step-detail{flex-direction:column;text-align:center;}
            .connect-form{grid-template-columns:1fr;}
            .input-tabs{flex-direction:column;}
        }
    </style>
</head>
<body class="ar rtl">

<!-- NAVBAR -->
<nav class="navbar">
    <div class="nav-container">
        <a href="index.html" class="logo">
            <div class="logo-icon"><i class="fas fa-bolt"></i></div>
            <span class="logo-text">MikroTools</span>
        </a>
        <button class="menu-toggle" id="menuToggle"><i class="fas fa-bars"></i></button>
        <div class="nav-links" id="navLinks">
            <div class="lang-switcher">
                <button class="lang-btn active" id="langEn"><i class="fas fa-globe"></i> EN</button>
                <button class="lang-btn" id="langAr"><i class="fas fa-globe"></i> AR</button>
            </div>
            <a href="index.html" class="nav-link"><i class="fas fa-home"></i><span data-i18n="home">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</span></a>
            <div class="dropdown">
                <a href="#" class="nav-link dropdown-toggle"><i class="fas fa-code-branch"></i><span data-i18n="merge">Ø§Ù„Ø¯Ù…Ø¬</span><i class="fas fa-chevron-down dropdown-arrow"></i></a>
                <div class="dropdown-menu">
                    <a href="merge-v6.html" class="dropdown-item"><i class="fas fa-network-wired"></i><span data-i18n="merge_v6">Ø¯Ù…Ø¬ Ø®Ø·ÙˆØ· v6</span></a>
                    <a href="merge-v7.html" class="dropdown-item"><i class="fas fa-rocket"></i><span data-i18n="merge_v7">Ø¯Ù…Ø¬ Ø®Ø·ÙˆØ· v7</span></a>
                </div>
            </div>
            <div class="dropdown">
                <a href="#" class="nav-link dropdown-toggle"><i class="fas fa-wifi"></i><span data-i18n="hotspot">Ø§Ù„Ù‡ÙˆØª Ø³Ø¨ÙˆØª</span><i class="fas fa-chevron-down dropdown-arrow"></i></a>
                <div class="dropdown-menu">
                    <a href="hotspot.html" class="dropdown-item"><i class="fas fa-cog"></i><span data-i18n="hotspot_settings">Ø§Ø¹Ø¯Ø§Ø¯Ø§Øª hotspot+ppp</span></a>
                    <a href="speed-profiles.html" class="dropdown-item"><i class="fas fa-tachometer-alt"></i><span data-i18n="speed_profiles">Ø¨Ø±ÙˆÙØ§ÙŠÙ„Ø§Øª Ø§Ù„Ø³Ø±Ø¹Ø©</span></a>
                </div>
            </div>
            <!-- Design & Block - âœ… CardEditor Ù…Ø¶Ø§Ù -->
            <div class="dropdown">
                <a href="#" class="nav-link dropdown-toggle"><i class="fas fa-paint-brush"></i><span data-i18n="design_block">Ø§Ù„ØªØµÙ…ÙŠÙ… ÙˆØ§Ù„Ø­Ø¬Ø¨</span><i class="fas fa-chevron-down dropdown-arrow"></i></a>
                <div class="dropdown-menu">
                    <a href="Hotspot Editor.html" class="dropdown-item"><i class="fas fa-paint-brush"></i><span data-i18n="hotspot_design">ØªØµÙ…ÙŠÙ… hotspot</span></a>
                    <a href="CardEditor.html" class="dropdown-item"><i class="fas fa-id-card"></i><span data-i18n="card_designer">Ù…ØµÙ…Ù… Ø§Ù„ÙƒØ±ÙˆØª</span></a>
                    <a href="block-sites.html" class="dropdown-item"><i class="fas fa-shield-alt"></i><span data-i18n="block_sites">Ø­Ø¬Ø¨ Ù…ÙˆØ§Ù‚Ø¹</span></a>
                </div>
            </div>
            <div class="dropdown">
                <a href="log.html" class="nav-link active"><i class="fas fa-chart-bar"></i><span data-i18n="log_analyzer">Ù…Ø­Ù„Ù„ Ø§Ù„Ø³Ø¬Ù„Ø§Øª</span><span class="new-badge" data-i18n="new">Ø¬Ø¯ÙŠØ¯</span></a>
            </div>
            <div class="dropdown">
                <a href="#" class="nav-link dropdown-toggle"><i class="fas fa-question-circle"></i><span data-i18n="help">Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø©</span><i class="fas fa-chevron-down dropdown-arrow"></i></a>
                <div class="dropdown-menu">
                    <a href="troubleshooting.html" class="dropdown-item"><i class="fas fa-exclamation-triangle"></i><span data-i18n="troubleshooting">Ø§Ù„Ù…Ø´ÙƒÙ„Ø§Øª Ø§Ù„Ø´Ø§Ø¦Ø¹Ø©</span></a>
                    <a href="about.html" class="dropdown-item"><i class="fas fa-users"></i><span data-i18n="about">Ù…Ù† Ù†Ø­Ù†</span></a>
                    <a href="privacy-policy.html" class="dropdown-item"><i class="fas fa-user-shield"></i><span data-i18n="privacy">Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø®ØµÙˆØµÙŠØ©</span></a>
                </div>
            </div>
            <a href="https://wa.me/201092503391" target="_blank" class="nav-cta"><i class="fab fa-whatsapp"></i><span data-i18n="contact_us">ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</span></a>
        </div>
    </div>
</nav>

<div class="main-container">
    <!-- Title -->
    <div class="title-wrapper">
        <i class="fas fa-microchip title-icon"></i>
        <span class="animated-title" data-i18n="log_analyzer_title">MikroTik Log Analyzer</span>
    </div>

    <!-- ===== DIRECT CONNECTION CARD - NEW FEATURE ===== -->
    <div class="connect-card" data-aos="fade-down">
        <div style="display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:15px;margin-bottom:20px;">
            <div>
                <div class="connect-title">
                    <i class="fas fa-plug" style="color:#10b981;"></i>
                    <span data-i18n="direct_connect_title">Ø§ØªØµØ§Ù„ Ù…Ø¨Ø§Ø´Ø± Ø¨Ø§Ù„Ù…ÙŠÙƒØ±Ùˆ</span>
                    <span class="connect-badge">âœ¨ <span data-i18n="new_feature">Ø¬Ø¯ÙŠØ¯</span></span>
                </div>
                <div class="connect-subtitle" data-i18n="direct_connect_sub">Ø§ÙƒØªØ¨ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…ÙŠÙƒØ±Ùˆ ÙˆÙ‡Ù†Ø¬ÙŠØ¨ Ø§Ù„Ø³Ø¬Ù„Ø§Øª Ø¹Ù„Ù‰ Ø·ÙˆÙ„ Ø¨Ø¯ÙˆÙ† Ù…Ø§ ØªØ¹Ù…Ù„ copy/paste</div>
            </div>
            <div style="text-align:left;">
                <div style="color:#94a3b8;font-size:0.8rem;margin-bottom:5px;" data-i18n="works_with">ÙŠØ´ØªØºÙ„ Ù…Ø¹:</div>
                <div style="display:flex;gap:8px;">
                    <span style="background:rgba(99,102,241,0.2);color:#a5b4fc;padding:4px 12px;border-radius:20px;font-size:0.8rem;font-weight:600;">RouterOS v6</span>
                    <span style="background:rgba(16,185,129,0.2);color:#6ee7b7;padding:4px 12px;border-radius:20px;font-size:0.8rem;font-weight:600;">RouterOS v7</span>
                </div>
            </div>
        </div>

        <div class="connect-form">
            <div class="connect-field">
                <label class="connect-label"><i class="fas fa-server"></i><span data-i18n="router_ip">IP Ø§Ù„Ø±Ø§ÙˆØªØ±</span></label>
                <input type="text" class="connect-input" id="routerIP" placeholder="192.168.1.1" dir="ltr">
            </div>
            <div class="connect-field">
                <label class="connect-label"><i class="fas fa-user"></i><span data-i18n="router_user">Ø§Ù„ÙŠÙˆØ²Ø±</span></label>
                <input type="text" class="connect-input" id="routerUser" placeholder="admin" dir="ltr">
            </div>
            <div class="connect-field">
                <label class="connect-label"><i class="fas fa-lock"></i><span data-i18n="router_pass">Ø§Ù„Ø¨Ø§Ø³ÙˆØ±Ø¯</span></label>
                <input type="password" class="connect-input" id="routerPass" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" dir="ltr">
            </div>
            <div>
                <button class="connect-btn" id="connectBtn" onclick="connectToRouter()">
                    <i class="fas fa-bolt"></i>
                    <span data-i18n="fetch_logs">Ø¬ÙŠØ¨ Ø§Ù„Ø³Ø¬Ù„Ø§Øª</span>
                </button>
            </div>
        </div>

        <!-- Status -->
        <div class="connect-status" id="connectStatus">
            <span id="connectStatusIcon"></span>
            <span id="connectStatusMsg"></span>
        </div>

        <!-- How it works info -->
        <div class="connect-info-box">
            <i class="fas fa-info-circle"></i>
            <span data-i18n="connect_info">Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨ÙŠØªÙ… Ø¹Ø¨Ø± REST API (port 80) â€” Ù„Ø§Ø²Ù… Ø§Ù„Ù…ØªØµÙØ­ ÙˆØ§Ù„Ø±Ø§ÙˆØªØ± ÙŠÙƒÙˆÙ†ÙˆØ§ Ø¹Ù„Ù‰ Ù†ÙØ³ Ø§Ù„Ø´Ø¨ÙƒØ©. Ù„Ùˆ Ø£ÙˆÙ„ Ù…Ø±Ø©ØŒ Ø´ÙˆÙ Ø®Ø·ÙˆØ§Øª Ø§Ù„ØªÙØ¹ÙŠÙ„ Ø¨Ø§Ù„Ø£Ø³ÙÙ„.</span>
        </div>

        <!-- Setup guide collapsible -->
        <div style="margin-top:15px;">
            <button onclick="toggleSetup()" style="background:transparent;border:1px solid rgba(255,255,255,0.15);color:#94a3b8;padding:8px 20px;border-radius:20px;cursor:pointer;font-size:0.9rem;transition:all 0.3s;" id="setupToggleBtn">
                <i class="fas fa-tools" style="margin-left:6px;"></i>
                <span data-i18n="setup_guide_btn">Ø§Ø²Ø§ÙŠ ØªÙØ¹Ù‘Ù„ REST API ÙÙŠ Ø§Ù„Ù…ÙŠÙƒØ±ÙˆØŸ</span>
                <i class="fas fa-chevron-down" style="margin-right:8px;" id="setupArrow"></i>
            </button>

            <div id="setupGuide" style="display:none;margin-top:15px;">
                <div class="setup-guide">
                    <div style="font-weight:700;color:var(--dark);margin-bottom:15px;font-size:1.05rem;" data-i18n="setup_title">ğŸ”§ Ø®Ø·ÙˆØ§Øª ØªÙØ¹ÙŠÙ„ REST API:</div>

                    <div class="setup-step">
                        <div class="setup-num">1</div>
                        <div>
                            <div style="font-weight:600;color:var(--dark);" data-i18n="setup_step1_t">Ø§ÙØªØ­ Terminal ÙÙŠ WinBox Ø£Ùˆ Telnet/SSH</div>
                            <div style="color:var(--gray);font-size:0.9rem;margin-top:4px;" data-i18n="setup_step1_d">Ø£Ùˆ Ù…Ù† WebFig â†’ Tools â†’ Terminal</div>
                        </div>
                    </div>

                    <div class="setup-step">
                        <div class="setup-num">2</div>
                        <div>
                            <div style="font-weight:600;color:var(--dark);" data-i18n="setup_step2_t">ÙØ¹Ù‘Ù„ www (HTTP) service</div>
                            <div style="margin-top:8px;">
                                <span class="code-inline">/ip service enable www</span>
                            </div>
                            <div style="color:var(--gray);font-size:0.85rem;margin-top:6px;" data-i18n="setup_step2_d">Ø¯Ù‡ Ø¨ÙŠØ´ØºÙ‘Ù„ Ø§Ù„Ù€ REST API Ø¹Ù„Ù‰ port 80 â€” ÙŠØ´ØªØºÙ„ Ù…Ø¹ v6 Ùˆ v7</div>
                        </div>
                    </div>

                    <div class="setup-step">
                        <div class="setup-num">3</div>
                        <div>
                            <div style="font-weight:600;color:var(--dark);" data-i18n="setup_step3_t">ØªØ£ÙƒØ¯ Ø¥Ù† Ø§Ù„Ù€ API Ù…ÙØªÙˆØ­</div>
                            <div style="margin-top:8px;">
                                <span class="code-inline">/ip service print</span>
                            </div>
                            <div style="color:var(--gray);font-size:0.85rem;margin-top:6px;" data-i18n="setup_step3_d">Ù„Ø§Ø²Ù… www ÙŠØ¨Ù‚Ù‰ enabled Ùˆport 80</div>
                        </div>
                    </div>

                    <div class="setup-step">
                        <div class="setup-num">4</div>
                        <div>
                            <div style="font-weight:600;color:var(--dark);" data-i18n="setup_step4_t">Ù„Ù„Ù€ v7 ÙÙ‚Ø· â€” ØªØ£ÙƒØ¯ Ù…Ù† ØªÙØ¹ÙŠÙ„ REST</div>
                            <div style="margin-top:8px;">
                                <span class="code-inline">/ip/service/enable www</span>
                            </div>
                            <div style="color:var(--gray);font-size:0.85rem;margin-top:6px;" data-i18n="setup_step4_d">ÙÙŠ v7 Ù…Ù…ÙƒÙ† ØªØ³ØªØ®Ø¯Ù… Ø¨Ø±Ø¶Ùˆ HTTPS Ø¹Ù„Ù‰ port 443 Ù„Ø£Ù…Ø§Ù† Ø£ÙƒØ«Ø±</div>
                        </div>
                    </div>

                    <div style="background:rgba(239,68,68,0.08);border:1px solid rgba(239,68,68,0.2);border-radius:10px;padding:12px 15px;margin-top:10px;color:#dc2626;font-size:0.9rem;">
                        <i class="fas fa-shield-alt" style="margin-left:6px;"></i>
                        <span data-i18n="setup_warning">ØªÙ†Ø¨ÙŠÙ‡: Ø¨Ø¹Ø¯ Ù…Ø§ ØªØ®Ù„Øµ Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…ØŒ Ù‚ÙÙ„ www service ØªØ§Ù†ÙŠ Ù„Ù„Ø£Ù…Ø§Ù† â€” <span class="code-inline" style="background:#fee2e2;color:#dc2626;">/ip service disable www</span></span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- ===== END DIRECT CONNECTION ===== -->

    <!-- How to get logs manually -->
    <div class="site-card" data-aos="fade-up">
        <div class="section-title">
            <i class="fas fa-graduation-cap"></i>
            <span data-i18n="how_to_get_logs">Ø§Ø²Ø§ÙŠ ØªØ¬ÙŠØ¨ Ø§Ù„Ø³Ø¬Ù„Ø§Øª Ù…Ù† Ø§Ù„Ù…Ø§ÙŠÙƒØ±ÙˆØªÙŠÙƒØŸ</span>
        </div>
        <div class="simple-guide">
            <div class="guide-header" style="display:flex;align-items:center;gap:15px;margin-bottom:20px;">
                <div style="background:var(--primary);width:60px;height:60px;border-radius:16px;display:flex;align-items:center;justify-content:center;color:white;font-size:24px;"><i class="fas fa-terminal"></i></div>
                <div>
                    <div style="font-size:1.3rem;font-weight:700;color:var(--primary-dark);" data-i18n="simple_method">Ø·Ø±ÙŠÙ‚Ø© ÙˆØ§Ø­Ø¯Ø© ÙˆØ¨Ø³ÙŠØ·Ø©</div>
                    <div style="color:var(--gray);" data-i18n="use_terminal">Ø§Ø³ØªØ®Ø¯Ù… Terminal - Ø£Ø³Ø±Ø¹ ÙˆØ£Ø³Ù‡Ù„ Ø·Ø±ÙŠÙ‚Ø©</div>
                </div>
            </div>
            <div class="command-box">
                <h5 style="color:var(--primary-dark);margin-bottom:15px;" data-i18n="write_command">âœï¸ Ø§ÙƒØªØ¨ Ø§Ù„Ø£Ù…Ø± Ø¯Ù‡ ÙÙŠ Ø§Ù„ØªÙŠØ±Ù…ÙŠÙ†Ø§Ù„:</h5>
                <div class="command-text">log print</div>
                <div style="text-align:center;margin:20px 0;">
                    <button class="copy-command-btn" onclick="copyCommand('log print')"><i class="fas fa-copy"></i><span data-i18n="copy_command">Ù†Ø³Ø® Ø§Ù„Ø£Ù…Ø±</span></button>
                </div>
                <div style="margin-top:30px;">
                    <div class="step-detail"><div class="step-num">â‘ </div><div><strong style="color:var(--primary-dark);" data-i18n="step1_title">Ø§ÙØªØ­ Terminal:</strong><p style="color:var(--gray);margin:5px 0 0;" data-i18n="step1_desc">ÙÙŠ Ø¨Ø±Ù†Ø§Ù…Ø¬ WinBox Ø£Ùˆ Ù…Ù† ØµÙØ­Ø© WebFigØŒ Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Terminal</p></div></div>
                    <div class="step-detail"><div class="step-num">â‘¡</div><div><strong style="color:var(--primary-dark);" data-i18n="step2_title">Ø§ÙƒØªØ¨ Ø§Ù„Ø£Ù…Ø±:</strong><p style="color:var(--gray);margin:5px 0 0;" data-i18n="step2_desc">Ø§ÙƒØªØ¨ log print ÙˆØ§Ø¶ØºØ· Enter</p></div></div>
                    <div class="step-detail"><div class="step-num">â‘¢</div><div><strong style="color:var(--primary-dark);" data-i18n="step3_title">Ø­Ø¯Ø¯ ÙƒÙ„ Ø§Ù„Ø³Ø¬Ù„Ø§Øª:</strong><p style="color:var(--gray);margin:5px 0 0;" data-i18n="step3_desc">Ø§Ø¶ØºØ· ÙƒÙ„ÙŠÙƒ ÙŠÙ…ÙŠÙ† ÙÙŠ Ø§Ù„ØªÙŠØ±Ù…ÙŠÙ†Ø§Ù„ ÙˆØ§Ø®ØªØ§Ø± "Select All"</p></div></div>
                    <div class="step-detail"><div class="step-num">â‘£</div><div><strong style="color:var(--primary-dark);" data-i18n="step4_title">Ø§Ù†Ø³Ø®:</strong><p style="color:var(--gray);margin:5px 0 0;" data-i18n="step4_desc">Ø§Ø¶ØºØ· ÙƒÙ„ÙŠÙƒ ÙŠÙ…ÙŠÙ† ØªØ§Ù†ÙŠ ÙˆØ§Ø®ØªØ§Ø± "Copy"</p></div></div>
                    <div class="step-detail"><div class="step-num">â‘¤</div><div><strong style="color:var(--primary-dark);" data-i18n="step5_title">Ø§Ù„ØµÙ‚ Ù‡Ù†Ø§:</strong><p style="color:var(--gray);margin:5px 0 0;" data-i18n="step5_desc">Ø§Ø±Ø¬Ø¹ Ù„Ù„ØµÙØ­Ø© ÙˆØ§Ø¶ØºØ· Ctrl+V ÙÙŠ Ø§Ù„Ù…Ø±Ø¨Ø¹ Ø§Ù„Ø£Ø³ÙˆØ¯</p></div></div>
                </div>
            </div>
            <div class="note-box" style="display:flex;align-items:flex-start;gap:15px;margin-top:20px;">
                <i class="fas fa-star" style="color:#eab308;font-size:1.5rem;"></i>
                <div>
                    <strong style="color:#854d0e;" data-i18n="important_notes">ğŸ’¡ Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ù…Ù‡Ù…Ø©:</strong>
                    <ul style="color:var(--gray);margin-top:10px;padding-right:20px;">
                        <li data-i18n="note1">ğŸ”¹ Ø§Ù„Ø£Ù…Ø± <code style="background:#f1f5f9;padding:2px 8px;border-radius:8px;">log print</code> Ø¨ÙŠØ¸Ù‡Ø± ÙƒÙ„ Ø§Ù„Ø³Ø¬Ù„Ø§Øª</li>
                        <li data-i18n="note2">ğŸ”¹ Ù„Ù„Ø³Ø¬Ù„Ø§Øª Ø§Ù„Ù…Ø¨Ø§Ø´Ø±Ø© Ø§Ø³ØªØ®Ø¯Ù… <code style="background:#f1f5f9;padding:2px 8px;border-radius:8px;">log print follow</code></li>
                        <li data-i18n="note3">ğŸ”¹ Ù„Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø¨Ø§Ø´Ø± Ø§Ø¶ØºØ· Ctrl+C</li>
                        <li data-i18n="note4">ğŸ”¹ Ù„Ø­ÙØ¸ ÙÙŠ Ù…Ù„Ù <code style="background:#f1f5f9;padding:2px 8px;border-radius:8px;">log print file=logs.txt</code></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- Log Input Area -->
    <div class="site-card" data-aos="fade-up">
        <div class="terminal-header">
            <div class="terminal-dots">
                <span class="terminal-dot dot-red"></span>
                <span class="terminal-dot dot-yellow"></span>
                <span class="terminal-dot dot-green"></span>
            </div>
            <span class="terminal-title" data-i18n="paste_logs">Ø§Ù„ØµÙ‚ Ø§Ù„Ø³Ø¬Ù„Ø§Øª Ù‡Ù†Ø§</span>
            <span class="badge bg-primary" data-i18n="important_paste">Ù…Ù‡Ù…: Ø§Ù„ØµÙ‚ Ø§Ù„Ø³Ø¬Ù„Ø§Øª Ø§Ù„Ù„ÙŠ Ù†Ø³Ø®ØªÙ‡Ø§</span>
        </div>

        <textarea class="command-input-pro" id="logInput" placeholder="Ø§Ù„ØµÙ‚ Ø§Ù„Ø³Ø¬Ù„Ø§Øª Ù‡Ù†Ø§ Ø£Ùˆ Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø§ØªØµØ§Ù„ Ø§Ù„Ù…Ø¨Ø§Ø´Ø± Ø¨Ø§Ù„Ø£Ø¹Ù„Ù‰..."></textarea>

        <div class="input-stats">
            <span class="stat-badge"><i class="fas fa-text-width"></i> <span data-i18n="lines_count">Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø³Ø·Ø±</span>: <span id="lineCount">0</span></span>
            <div>
                <button class="action-btn" onclick="clearInput()" title="Ù…Ø³Ø­"><i class="fas fa-eraser"></i></button>
                <button class="action-btn" onclick="copyInput()" title="Ù†Ø³Ø®"><i class="fas fa-copy"></i></button>
                <button class="action-btn" onclick="pasteInput()" title="Ù„ØµÙ‚"><i class="fas fa-paste"></i></button>
            </div>
        </div>

        <div style="margin-top:20px;">
            <p style="margin-bottom:10px;"><i class="fas fa-flask" style="color:var(--primary)"></i> <span data-i18n="try_examples">Ø¬Ø±Ø¨ Ø§Ù„Ø£Ù…Ø«Ù„Ø© Ø§Ù„Ø¬Ø§Ù‡Ø²Ø©:</span></p>
            <div class="example-buttons">
                <span class="example-btn" onclick="loadExample('basic')">ğŸ“‹ <span data-i18n="basic_logs">Ø³Ø¬Ù„Ø§Øª Ø¹Ø§Ø¯ÙŠØ©</span></span>
                <span class="example-btn" onclick="loadExample('security')">ğŸ”’ <span data-i18n="security_attacks">Ù‡Ø¬Ù…Ø§Øª Ø£Ù…Ù†ÙŠØ©</span></span>
                <span class="example-btn" onclick="loadExample('firewall')">ğŸ”¥ <span data-i18n="firewall_issues">Ù…Ø´Ø§ÙƒÙ„ Ø¬Ø¯Ø§Ø± Ù†Ø§Ø±ÙŠ</span></span>
                <span class="example-btn" onclick="loadExample('wireless')">ğŸ“¡ <span data-i18n="wireless_network">Ø´Ø¨ÙƒØ© Ù„Ø§Ø³Ù„ÙƒÙŠØ©</span></span>
                <span class="example-btn" onclick="loadExample('vpn')">ğŸ” <span data-i18n="vpn_connections">Ø§ØªØµØ§Ù„Ø§Øª VPN</span></span>
            </div>
        </div>

        <button class="analyze-btn" onclick="analyzeLogs()">
            <i class="fas fa-chart-pie"></i>
            <span data-i18n="analyze_button">Ø§Ø¶ØºØ· Ù‡Ù†Ø§ Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø³Ø¬Ù„Ø§Øª</span>
            <i class="fas fa-arrow-left"></i>
        </button>
        <p style="text-align:center;margin-top:10px;color:var(--gray);" data-i18n="wait_message">Ø¨Ø¹Ø¯ Ø§Ù„Ø¶ØºØ·ØŒ Ø§Ù†ØªØ¸Ø± Ù‚Ù„ÙŠÙ„Ø§Ù‹ ÙˆØ³ØªØ¸Ù‡Ø± Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø¨Ø§Ù„Ø£Ø³ÙÙ„</p>
    </div>

    <!-- Results -->
    <div id="resultsContainer" style="display:none;">
        <div class="site-card" id="analysisResults"></div>
    </div>
</div>

<footer class="footer">
    <div class="footer-content">
        <p class="footer-text"><i class="fas fa-phone-alt"></i> <span data-i18n="footer_contact">Ù„Ù„ØªÙˆØ§ØµÙ„ ÙˆØ§Ù„Ø§Ø³ØªÙØ³Ø§Ø±: 01092503391 - Sameh El-Sayed</span></p>
        <p class="copyright">Â© 2026 MikroTools. <span data-i18n="copyright">Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©.</span></p>
    </div>
</footer>

<iframe src="mikro-icons.html" class="social-iframe" scrolling="no" frameborder="0" allowtransparency="true"></iframe>

<script>
document.addEventListener('DOMContentLoaded',function(){if(typeof AOS!=='undefined')AOS.init({duration:800,once:true});});

let currentLogs=[],filteredLogs=[],charts={};

// ==================== DIRECT CONNECTION ====================
function toggleSetup(){
    const guide=document.getElementById('setupGuide');
    const arrow=document.getElementById('setupArrow');
    if(guide.style.display==='none'){
        guide.style.display='block';
        arrow.style.transform='rotate(180deg)';
    }else{
        guide.style.display='none';
        arrow.style.transform='rotate(0)';
    }
}

function connectToRouter(){
    const ip=document.getElementById('routerIP').value.trim();
    const user=document.getElementById('routerUser').value.trim();
    const pass=document.getElementById('routerPass').value;
    const lang=document.documentElement.lang;

    if(!ip||!user){
        showStatus('error','âš ï¸ '+(lang==='ar'?'Ø§Ø¯Ø®Ù„ IP Ø§Ù„ÙŠÙˆØ²Ø± Ø¯Ù„ÙˆÙ‚ØªÙŠ':'Enter IP and username'));
        return;
    }

    const btn=document.getElementById('connectBtn');
    btn.disabled=true;
    btn.innerHTML=`<span class="spinner"></span> <span>${lang==='ar'?'Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø§ØªØµØ§Ù„...':'Connecting...'}</span>`;
    showStatus('connecting','<span class="spinner"></span> '+(lang==='ar'?'Ø¨ÙŠØªØµÙ„ Ø¨Ø§Ù„Ø±Ø§ÙˆØªØ±...':'Connecting to router...'));

    // XMLHttpRequest â€” works from file:// without CORS block
    const url=`http://${ip}/rest/log`;
    const xhr=new XMLHttpRequest();
    xhr.open('GET',url,true);
    xhr.setRequestHeader('Authorization','Basic '+btoa(unescape(encodeURIComponent(user+':'+pass))));
    xhr.timeout=9000;

    xhr.onload=function(){
        if(xhr.status===401){showStatus('error','âŒ '+(lang==='ar'?'Ø§Ù„ÙŠÙˆØ²Ø± Ø£Ùˆ Ø§Ù„Ø¨Ø§Ø³ÙˆØ±Ø¯ ØºÙ„Ø·':'Wrong username or password'));resetConnectBtn();return;}
        if(xhr.status===403){showStatus('error','âŒ '+(lang==='ar'?'Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª Ù…Ø´ ÙƒØ§ÙÙŠØ©':'Insufficient permissions'));resetConnectBtn();return;}
        if(xhr.status===404){showStatus('error','âŒ '+(lang==='ar'?'REST API Ù…Ø´ Ø´ØºÙ‘Ø§Ù„ â€” Ø´ØºÙ‘Ù„ www service Ø£ÙˆÙ„Ø§Ù‹: /ip service enable www':'REST API not found â€” enable www: /ip service enable www'));resetConnectBtn();return;}
        if(xhr.status!==200){showStatus('error','âŒ HTTP '+xhr.status);resetConnectBtn();return;}
        try{
            const data=JSON.parse(xhr.responseText);
            if(!Array.isArray(data)||data.length===0){showStatus('error','âš ï¸ '+(lang==='ar'?'Ù…ÙÙŠØ´ Ø³Ø¬Ù„Ø§Øª Ù…ÙˆØ¬ÙˆØ¯Ø©':'No logs found'));resetConnectBtn();return;}
            const logText=data.map(e=>`${e.time||'00:00:00'} ${e.topics||'system'} ${e.message||''}`).join('\n');
            document.getElementById('logInput').value=logText;
            updateLineCount();
            showStatus('success',`âœ… ${lang==='ar'?'ØªÙ… Ø¬Ù„Ø¨':'Fetched'} ${data.length} ${lang==='ar'?'Ø³Ø¬Ù„ â€” Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù„ÙŠÙ„...':'logs â€” analyzing...'}`);
            showToast(`âœ… ${lang==='ar'?'ØªÙ… Ø¬Ù„Ø¨':'Got'} ${data.length} ${lang==='ar'?'Ø³Ø¬Ù„ Ù…Ù† Ø§Ù„Ù…ÙŠÙƒØ±Ùˆ':'logs from router'}`,'#10b981');
            setTimeout(()=>analyzeLogs(),600);
        }catch(e){showStatus('error','âŒ '+(lang==='ar'?'Ø®Ø·Ø£ ÙÙŠ Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª':'Error reading data'));resetConnectBtn();}
    };
    xhr.ontimeout=function(){
        showStatus('error','âŒ '+(lang==='ar'?'Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„ÙˆÙ‚Øª â€” ØªØ£ÙƒØ¯ Ù…Ù† IP ÙˆØ§Ù„Ø´Ø¨ÙƒØ©':'Timeout â€” check IP and network'));
        resetConnectBtn();
    };
    xhr.onerror=function(){
        showStatus('error','âŒ '+(lang==='ar'?'ØªØ¹Ø°Ø± Ø§Ù„Ø§ØªØµØ§Ù„ â€” ØªØ£ÙƒØ¯ Ù…Ù†: IP ØµØ­ â€¢ www service Ù…ÙØ¹Ù‘Ù„ (/ip service enable www) â€¢ Ù†ÙØ³ Ø§Ù„Ø´Ø¨ÙƒØ©':'Cannot connect â€” check: correct IP â€¢ www service enabled â€¢ same network'));
        resetConnectBtn();
    };
    xhr.send();
}

function showStatus(type,msg){
    const el=document.getElementById('connectStatus');
    el.className='connect-status '+type;
    el.innerHTML=msg;
    el.style.display='flex';
}

function resetConnectBtn(){
    const btn=document.getElementById('connectBtn');
    const lang=document.documentElement.lang;
    btn.disabled=false;
    btn.innerHTML=`<i class="fas fa-bolt"></i><span>${lang==='ar'?'Ø¬ÙŠØ¨ Ø§Ù„Ø³Ø¬Ù„Ø§Øª':'Fetch Logs'}</span>`;
}

// Allow Enter key on IP/User fields
['routerIP','routerUser','routerPass'].forEach(id=>{
    document.getElementById(id).addEventListener('keydown',e=>{if(e.key==='Enter')connectToRouter();});
});

// ==================== HELPERS ====================
document.addEventListener('DOMContentLoaded',function(){
    const menuToggle=document.getElementById('menuToggle');
    const navLinks=document.getElementById('navLinks');
    if(menuToggle){
        menuToggle.addEventListener('click',function(){
            const icon=this.querySelector('i');
            navLinks.classList.toggle('active');
            icon.className=navLinks.classList.contains('active')?'fas fa-times':'fas fa-bars';
        });
    }
    document.querySelectorAll('.dropdown-toggle').forEach(toggle=>{
        toggle.addEventListener('click',function(e){
            if(window.innerWidth<=992){
                e.preventDefault();
                const dd=this.closest('.dropdown');
                dd.classList.toggle('active');
                const arrow=this.querySelector('.dropdown-arrow');
                if(arrow)arrow.style.transform=dd.classList.contains('active')?'rotate(180deg)':'rotate(0)';
            }
        });
    });
    document.querySelectorAll('.nav-link,.dropdown-item').forEach(link=>{
        link.addEventListener('click',()=>{
            if(!link.classList.contains('dropdown-toggle')&&window.innerWidth<=992){
                document.getElementById('navLinks').classList.remove('active');
                document.querySelector('#menuToggle i').className='fas fa-bars';
            }
        });
    });
    updateLineCount();
    loadExample('basic');
    document.getElementById('logInput').addEventListener('input',updateLineCount);
});

function updateLineCount(){const t=document.getElementById('logInput').value;document.getElementById('lineCount').textContent=t.split('\n').filter(l=>l.trim()!=='').length;}
function clearInput(){document.getElementById('logInput').value='';updateLineCount();}
function copyInput(){navigator.clipboard.writeText(document.getElementById('logInput').value);showToast('âœ… '+(document.documentElement.lang==='ar'?'ØªÙ… Ø§Ù„Ù†Ø³Ø®':'Copied'),'#10b981');}
async function pasteInput(){try{const t=await navigator.clipboard.readText();document.getElementById('logInput').value=t;updateLineCount();showToast('âœ… '+(document.documentElement.lang==='ar'?'ØªÙ… Ø§Ù„Ù„ØµÙ‚':'Pasted'),'#10b981');}catch(e){showToast('âŒ '+(document.documentElement.lang==='ar'?'ÙØ´Ù„ Ø§Ù„Ù„ØµÙ‚':'Paste failed'),'#ef4444');}}
function copyCommand(cmd){navigator.clipboard.writeText(cmd);showToast('âœ… '+(document.documentElement.lang==='ar'?'ØªÙ… Ù†Ø³Ø® Ø§Ù„Ø£Ù…Ø±':'Command copied'),'#10b981');}

function showToast(message,color){
    const t=document.createElement('div');
    t.style.cssText=`position:fixed;bottom:20px;right:20px;background:${color};color:white;padding:15px 25px;border-radius:50px;font-weight:600;box-shadow:0 10px 30px rgba(0,0,0,0.3);z-index:9999;animation:slideIn 0.3s ease;`;
    t.innerHTML=message;document.body.appendChild(t);
    setTimeout(()=>{t.style.animation='slideOut 0.3s ease';setTimeout(()=>document.body.removeChild(t),300);},2500);
}

// ==================== EXAMPLES ====================
function loadExample(type){
    const ex={
        basic:`09:15:23 system,info Ø¬Ù‡Ø§Ø² Ø¨Ø¯Ø£ Ø§Ù„ØªØ´ØºÙŠÙ„ Ø¨Ù†Ø¬Ø§Ø­\n09:16:45 dhcp,info ØªÙ… ØªØ¹ÙŠÙŠÙ† IP 192.168.1.100 Ù„Ù„Ø¹Ù…ÙŠÙ„\n09:17:12 system,info ØªÙ…Øª Ù…Ø²Ø§Ù…Ù†Ø© Ø§Ù„ÙˆÙ‚Øª Ù…Ø¹ Ø®Ø§Ø¯Ù… NTP\n09:18:30 wireless,info Ø¹Ù…ÙŠÙ„ 192.168.1.150 Ù…ØªØµÙ„ Ø¨Ø§Ù„Ø´Ø¨ÙƒØ©\n09:19:55 firewall,info ØªÙ… Ù‚Ø¨ÙˆÙ„ Ø§ØªØµØ§Ù„ Ù…Ù† 10.0.0.50`,
        security:`09:15:23 firewall,error Ù…Ø­Ø§ÙˆÙ„Ø© Ø¯Ø®ÙˆÙ„ ÙØ§Ø´Ù„Ø© Ù…Ù† 185.142.53.23\n09:16:45 firewall,error Ø§ÙƒØªØ´Ø§Ù ÙØ­Øµ Ù…Ù†Ø§ÙØ° Ù…Ù† 45.78.23.11\n09:17:12 firewall,warning 5 Ù…Ø­Ø§ÙˆÙ„Ø§Øª ÙØ§Ø´Ù„Ø© Ù…Ù† 192.168.1.100\n09:18:30 firewall,critical Ù‡Ø¬ÙˆÙ… DDoS Ù…Ø­ØªÙ…Ù„\n09:19:55 firewall,error Ù‡Ø¬ÙˆÙ… Ù‚ÙˆØ© ØºØ§Ø´Ù…Ø© Ù…Ù† 103.145.67.89`,
        firewall:`09:15:23 firewall,info Ù‚Ø¨ÙˆÙ„ Ø§ØªØµØ§Ù„ Ù…Ù† 192.168.1.50\n09:16:45 firewall,error Ø±ÙØ¶ Ø§ØªØµØ§Ù„ Ù…Ù† 10.0.0.100\n09:17:12 firewall,info ØªÙ… ØªØ·Ø¨ÙŠÙ‚ NAT Ù„Ù„Ø§ØªØµØ§Ù„\n09:18:30 firewall,warning ØªØ¬Ø§ÙˆØ² Ø­Ø¯ Ø§Ù„Ø§ØªØµØ§Ù„Ø§Øª\n09:19:55 firewall,info ØªÙ… Ø­Ø¸Ø± IP 45.67.89.100`,
        wireless:`09:15:23 wireless,info Ø¹Ù…ÙŠÙ„ 192.168.1.100 Ù…ØªØµÙ„\n09:16:45 wireless,warning Ø¹Ù…ÙŠÙ„ 192.168.1.150 Ø§Ù†Ù‚Ø·Ø¹ Ø¨Ø³Ø¨Ø¨ Ø¶Ø¹Ù Ø§Ù„Ø¥Ø´Ø§Ø±Ø©\n09:17:12 wireless,error ÙØ´Ù„ Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø© Ù„Ù„Ø¹Ù…ÙŠÙ„ 192.168.1.200\n09:18:30 wireless,info ØªÙ… ØªØºÙŠÙŠØ± Ø§Ù„Ù‚Ù†Ø§Ø© Ø¥Ù„Ù‰ 6\n09:19:55 wireless,info Ù‚ÙˆØ© Ø§Ù„Ø¥Ø´Ø§Ø±Ø© 80%`,
        vpn:`09:15:23 pptp,info Ø¹Ù…ÙŠÙ„ 185.142.53.23 Ù…ØªØµÙ„\n09:16:45 l2tp,error ÙØ´Ù„ Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø© Ù„Ù„Ø¹Ù…ÙŠÙ„ 45.78.23.11\n09:17:12 sstp,warning Ø§Ù„Ø¹Ù…ÙŠÙ„ 103.145.67.89 Ø§Ù†Ù‚Ø·Ø¹ ÙØ¬Ø£Ø©\n09:18:30 openvpn,info ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ù†ÙÙ‚ Ù…Ø¹ 192.168.1.200\n09:19:55 pptp,info ØªÙ… Ù‚Ø·Ø¹ Ø§Ù„Ø§ØªØµØ§Ù„ Ù…Ø¹ 10.0.0.50`
    };
    document.getElementById('logInput').value=ex[type]||ex.basic;
    updateLineCount();
    showToast('âœ… '+(document.documentElement.lang==='ar'?'ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø«Ø§Ù„':'Example loaded'),'#10b981');
}

// ==================== ANALYZE ====================
function parseLogs(text){
    return text.split('\n').filter(l=>l.trim()).map(line=>{
        const m=line.match(/(\d{1,2}:\d{2}:\d{2})\s+([a-zA-Z,_]+)\s+(.+)/);
        if(!m)return null;
        const ips=m[3].match(/\b(?:\d{1,3}\.){3}\d{1,3}\b/g)||[];
        const msg=m[3].toLowerCase();
        let severity='info';
        if(msg.includes('critical')||msg.includes('Ø­Ø±Ø¬')||msg.includes('Ù‡Ø¬ÙˆÙ…')||msg.includes('ddos'))severity='critical';
        else if(msg.includes('error')||msg.includes('ÙØ´Ù„')||msg.includes('Ø®Ø·Ø£')||msg.includes('Ø±ÙØ¶'))severity='error';
        else if(msg.includes('warning')||msg.includes('ØªØ­Ø°ÙŠØ±')||msg.includes('Ø§Ù†Ù‚Ø·Ø¹'))severity='warning';
        return{time:m[1],source:m[2].split(',')[0],message:m[3],ips,severity};
    }).filter(Boolean);
}

function addExplanations(logs){
    return logs.map(log=>{
        let exp='',sol='';
        if(log.source.includes('dhcp')){exp='Ø¯Ù‡ Ø³Ø¬Ù„ ØªÙˆØ²ÙŠØ¹ IP â€” Ø¨ÙŠØ´Ø±Ø­ Ù…ÙŠÙ† Ø£Ø®Ø° Ø¹Ù†ÙˆØ§Ù†';sol='ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ù„ÙƒØ§Ø¨Ù„ Ø£Ùˆ Ø§Ù„ÙˆØ§ÙŠ ÙØ§ÙŠ';}
        else if(log.source.includes('firewall')||log.severity==='critical'){exp='âš ï¸ Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ø®ØªØ±Ø§Ù‚ Ø£Ùˆ Ù‡Ø¬ÙˆÙ… Ø¹Ù„Ù‰ Ø§Ù„Ø´Ø¨ÙƒØ©';sol='ØºÙŠØ± Ø§Ù„Ø¨Ø§Ø³ÙˆØ±Ø¯ ÙÙˆØ±Ø§Ù‹ ÙˆÙØ¹Ù‘Ù„ Ø§Ù„Ø­Ù…Ø§ÙŠØ©';}
        else if(log.source.includes('wireless')){exp='ğŸ“¡ Ø³Ø¬Ù„ Ø§Ù„Ø´Ø¨ÙƒØ© Ø§Ù„Ù„Ø§Ø³Ù„ÙƒÙŠØ©';sol='Ù‚Ø±Ù‘Ø¨ Ø§Ù„Ø¬Ù‡Ø§Ø² Ù…Ù† Ø§Ù„Ø±Ø§ÙˆØªØ±';}
        else if(log.severity==='error'){exp='âŒ ÙÙŠ Ø®Ø·Ø£ Ø­ØµÙ„';sol='Ø´ÙˆÙ Ø¨Ø§Ù‚ÙŠ Ø§Ù„Ø³Ø¬Ù„Ø§Øª Ù„ÙÙ‡Ù… Ø§Ù„Ù…Ø´ÙƒÙ„Ø©';}
        else if(log.severity==='warning'){exp='âš ï¸ ØªØ­Ø°ÙŠØ± Ù…Ø­ØªØ§Ø¬ Ù…ØªØ§Ø¨Ø¹Ø©';sol='ØªØ§Ø¨Ø¹ Ø§Ù„Ø³Ø¬Ù„Ø§Øª Ù„Ùˆ Ø§Ù„Ù…Ø´ÙƒÙ„Ø© ØªÙƒØ±Ø±Øª';}
        else{exp='â„¹ï¸ Ø³Ø¬Ù„ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¹Ø§Ø¯ÙŠ';sol='Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø¥Ø¬Ø±Ø§Ø¡ Ù…Ø·Ù„ÙˆØ¨';}
        return{...log,explanation:exp,solution:sol};
    });
}

function analyzeLogs(){
    const input=document.getElementById('logInput').value;
    const lang=document.documentElement.lang;
    if(!input.trim()){showToast('âš ï¸ '+(lang==='ar'?'Ø§Ù„ØµÙ‚ Ø§Ù„Ø³Ø¬Ù„Ø§Øª Ø£ÙˆÙ„Ø§Ù‹':'Paste logs first'),'#f59e0b');return;}
    const logs=parseLogs(input);
    if(!logs.length){showToast('âŒ '+(lang==='ar'?'ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ø³Ø¬Ù„Ø§Øª ØºÙŠØ± Ù…Ø¯Ø¹ÙˆÙ…':'Log format not supported'),'#ef4444');return;}
    const enhanced=addExplanations(logs);
    currentLogs=enhanced;filteredLogs=[...enhanced];
    const container=document.getElementById('resultsContainer');
    const div=document.getElementById('analysisResults');
    div.innerHTML=`<h3 style="margin-bottom:20px;"><i class="fas fa-check-circle" style="color:var(--primary)"></i> ${lang==='ar'?'Ù†ØªØ§Ø¦Ø¬ Ø§Ù„ØªØ­Ù„ÙŠÙ„':'Analysis Results'}:</h3>`;
    showAnalysisSummary(enhanced,div);
    displayStats(enhanced,div);
    displayCharts(enhanced,div);
    displayTable(enhanced,div);
    container.style.display='block';
    setTimeout(()=>container.scrollIntoView({behavior:'smooth'}),100);
    showToast(`âœ… ${lang==='ar'?'ØªÙ… ØªØ­Ù„ÙŠÙ„':'Analyzed'} ${logs.length} ${lang==='ar'?'Ø³Ø¬Ù„':'logs'}`,'#10b981');
}

function showAnalysisSummary(logs,container){
    const crit=logs.filter(l=>l.severity==='critical').length;
    const err=logs.filter(l=>l.severity==='error').length;
    const warn=logs.filter(l=>l.severity==='warning').length;
    const lang=document.documentElement.lang;
    let msg='',color='';
    if(crit>0){msg=lang==='ar'?`ğŸš¨ ÙÙŠÙ‡ ${crit} Ù…Ø´ÙƒÙ„Ø© Ø­Ø±Ø¬Ø©!`:`ğŸš¨ ${crit} critical issues!`;color='#ef4444';}
    else if(err>0){msg=lang==='ar'?`âš ï¸ ÙÙŠÙ‡ ${err} Ø®Ø·Ø£`:`âš ï¸ ${err} errors`;color='#f59e0b';}
    else if(warn>0){msg=lang==='ar'?`âš¡ ÙÙŠÙ‡ ${warn} ØªØ­Ø°ÙŠØ±`:`âš¡ ${warn} warnings`;color='#eab308';}
    else{msg=lang==='ar'?'âœ… Ø§Ù„Ø´Ø¨ÙƒØ© ÙƒÙˆÙŠØ³Ø©':'âœ… Network healthy';color='#10b981';}
    const d=document.createElement('div');
    d.style.cssText=`background:${color}20;border:2px solid ${color};border-radius:24px;padding:20px;margin-bottom:20px;font-size:1.3rem;text-align:center;`;
    d.innerHTML=`<i class="fas fa-robot" style="color:${color};margin-left:10px;"></i>${msg}`;
    container.insertBefore(d,container.firstChild);
}

function displayStats(logs,container){
    const lang=document.documentElement.lang;
    const g=document.createElement('div');g.className='stats-grid';
    g.innerHTML=`
        <div class="stat-item"><i class="fas fa-database fa-2x" style="color:var(--primary)"></i><div class="stat-value">${logs.length}</div><div>${lang==='ar'?'Ø¥Ø¬Ù…Ø§Ù„ÙŠ':'Total'}</div></div>
        <div class="stat-item"><i class="fas fa-exclamation-circle fa-2x" style="color:#ef4444"></i><div class="stat-value">${logs.filter(l=>l.severity==='critical').length}</div><div>${lang==='ar'?'Ø­Ø±Ø¬Ø©':'Critical'}</div></div>
        <div class="stat-item"><i class="fas fa-exclamation-triangle fa-2x" style="color:#f59e0b"></i><div class="stat-value">${logs.filter(l=>l.severity==='error').length}</div><div>${lang==='ar'?'Ø£Ø®Ø·Ø§Ø¡':'Errors'}</div></div>
        <div class="stat-item"><i class="fas fa-exclamation fa-2x" style="color:#eab308"></i><div class="stat-value">${logs.filter(l=>l.severity==='warning').length}</div><div>${lang==='ar'?'ØªØ­Ø°ÙŠØ±Ø§Øª':'Warnings'}</div></div>
        <div class="stat-item"><i class="fas fa-info-circle fa-2x" style="color:#3b82f6"></i><div class="stat-value">${logs.filter(l=>l.severity==='info').length}</div><div>${lang==='ar'?'Ù…Ø¹Ù„ÙˆÙ…Ø§Øª':'Info'}</div></div>
        <div class="stat-item"><i class="fas fa-network-wired fa-2x" style="color:#10b981"></i><div class="stat-value">${logs.filter(l=>l.ips.length>0).length}</div><div>IPs</div></div>`;
    container.appendChild(g);
}

function displayCharts(logs,container){
    const lang=document.documentElement.lang;
    const g=document.createElement('div');g.className='charts-grid';
    g.innerHTML=`
        <div class="chart-card"><h5><i class="fas fa-chart-pie" style="color:var(--primary);margin-left:8px;"></i>${lang==='ar'?'ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø³Ø¬Ù„Ø§Øª':'Distribution'}</h5><div class="chart-container"><canvas id="severityChart"></canvas></div></div>
        <div class="chart-card"><h5><i class="fas fa-network-wired" style="color:var(--primary);margin-left:8px;"></i>${lang==='ar'?'Ø£ÙƒØ«Ø± IPs ØªÙƒØ±Ø§Ø±Ø§Ù‹':'Top IPs'}</h5><div class="chart-container"><canvas id="ipChart"></canvas></div></div>
        <div class="chart-card"><h5><i class="fas fa-chart-line" style="color:var(--primary);margin-left:8px;"></i>${lang==='ar'?'Ø§Ù„Ù†Ø´Ø§Ø· Ø§Ù„Ø²Ù…Ù†ÙŠ':'Timeline'}</h5><div class="chart-container"><canvas id="timelineChart"></canvas></div></div>`;
    container.appendChild(g);
    setTimeout(()=>{
        const sCtx=document.getElementById('severityChart').getContext('2d');
        if(charts.severity)charts.severity.destroy();
        charts.severity=new Chart(sCtx,{type:'doughnut',data:{labels:lang==='ar'?['Ø­Ø±Ø¬Ø©','Ø£Ø®Ø·Ø§Ø¡','ØªØ­Ø°ÙŠØ±Ø§Øª','Ù…Ø¹Ù„ÙˆÙ…Ø§Øª']:['Critical','Errors','Warnings','Info'],datasets:[{data:[logs.filter(l=>l.severity==='critical').length,logs.filter(l=>l.severity==='error').length,logs.filter(l=>l.severity==='warning').length,logs.filter(l=>l.severity==='info').length],backgroundColor:['#ef4444','#f59e0b','#eab308','#3b82f6'],borderColor:'#fff',borderWidth:2}]},options:{responsive:true,maintainAspectRatio:false,plugins:{legend:{labels:{color:'#1e293b'}}}}});
        const ipC={};logs.forEach(log=>log.ips.forEach(ip=>ipC[ip]=(ipC[ip]||0)+1));
        const topIPs=Object.entries(ipC).sort((a,b)=>b[1]-a[1]).slice(0,8);
        if(topIPs.length){const iCtx=document.getElementById('ipChart').getContext('2d');if(charts.ip)charts.ip.destroy();charts.ip=new Chart(iCtx,{type:'bar',data:{labels:topIPs.map(i=>i[0]),datasets:[{label:lang==='ar'?'Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø±Ø§Øª':'Count',data:topIPs.map(i=>i[1]),backgroundColor:'var(--primary)',borderRadius:8}]},options:{responsive:true,maintainAspectRatio:false,scales:{y:{ticks:{color:'#1e293b'}},x:{ticks:{color:'#1e293b'}}}}});}
        const tSlots={};logs.forEach(log=>{const h=log.time.split(':')[0];tSlots[h]=(tSlots[h]||0)+1;});
        const tCtx=document.getElementById('timelineChart').getContext('2d');if(charts.timeline)charts.timeline.destroy();
        charts.timeline=new Chart(tCtx,{type:'line',data:{labels:Object.keys(tSlots).sort().map(h=>h+':00'),datasets:[{label:lang==='ar'?'Ø¹Ø¯Ø¯ Ø§Ù„Ø³Ø¬Ù„Ø§Øª':'Count',data:Object.values(tSlots),borderColor:'var(--primary)',backgroundColor:'rgba(99,102,241,0.2)',tension:0.4,fill:true}]},options:{responsive:true,maintainAspectRatio:false,scales:{y:{ticks:{color:'#1e293b'}},x:{ticks:{color:'#1e293b'}}}}});
    },100);
}

function displayTable(logs,container){
    const lang=document.documentElement.lang;
    const tc=document.createElement('div');tc.className='table-container';
    tc.innerHTML=`
        <div class="table-header">
            <h5><i class="fas fa-table" style="color:var(--primary);margin-left:8px;"></i>${lang==='ar'?'Ø§Ù„Ø³Ø¬Ù„Ø§Øª Ø§Ù„ØªÙØµÙŠÙ„ÙŠØ©':'Detailed Logs'}</h5>
            <div>
                <input type="text" id="searchInput" placeholder="${lang==='ar'?'ğŸ” Ø§Ø¨Ø­Ø«...':'ğŸ” Search...'}" onkeyup="filterLogs()" style="background:white;border:1px solid #e2e8f0;color:var(--dark);width:200px;padding:8px 15px;border-radius:20px;outline:none;">
                <select id="severityFilter" onchange="filterLogs()" style="background:white;border:1px solid #e2e8f0;color:var(--dark);padding:8px 15px;border-radius:20px;margin-right:8px;outline:none;">
                    <option value="all">${lang==='ar'?'ÙƒÙ„ Ø§Ù„Ù…Ø³ØªÙˆÙŠØ§Øª':'All'}</option>
                    <option value="critical">${lang==='ar'?'Ø­Ø±Ø¬Ø©':'Critical'}</option>
                    <option value="error">${lang==='ar'?'Ø£Ø®Ø·Ø§Ø¡':'Errors'}</option>
                    <option value="warning">${lang==='ar'?'ØªØ­Ø°ÙŠØ±Ø§Øª':'Warnings'}</option>
                    <option value="info">${lang==='ar'?'Ù…Ø¹Ù„ÙˆÙ…Ø§Øª':'Info'}</option>
                </select>
            </div>
        </div>
        <div class="table-responsive">
            <table class="table">
                <thead><tr>
                    <th>${lang==='ar'?'Ø§Ù„ÙˆÙ‚Øª':'Time'}</th>
                    <th>${lang==='ar'?'Ø§Ù„Ù…Ø³ØªÙˆÙ‰':'Level'}</th>
                    <th>${lang==='ar'?'Ø§Ù„Ù…ØµØ¯Ø±':'Source'}</th>
                    <th>${lang==='ar'?'Ø§Ù„Ø±Ø³Ø§Ù„Ø© ÙˆØ§Ù„Ø´Ø±Ø­':'Message & Explanation'}</th>
                    <th>IPs</th>
                </tr></thead>
                <tbody id="logTableBody"></tbody>
            </table>
        </div>`;
    container.appendChild(tc);
    renderTableRows(logs);
}

function renderTableRows(logs){
    const lang=document.documentElement.lang;
    const tbody=document.getElementById('logTableBody');
    if(!tbody)return;
    tbody.innerHTML='';
    const sevText={critical:lang==='ar'?'Ø­Ø±Ø¬':'Critical',error:lang==='ar'?'Ø®Ø·Ø£':'Error',warning:lang==='ar'?'ØªØ­Ø°ÙŠØ±':'Warning',info:lang==='ar'?'Ù…Ø¹Ù„ÙˆÙ…Ø§Øª':'Info'};
    logs.slice(0,200).forEach(log=>{
        const row=document.createElement('tr');
        row.innerHTML=`
            <td style="font-weight:700;color:var(--primary-dark)">${log.time}</td>
            <td><span class="severity-badge severity-${log.severity}">${sevText[log.severity]||'Info'}</span></td>
            <td style="font-weight:600;">${log.source}</td>
            <td>
                <div style="margin-bottom:8px;">${log.message}</div>
                <div class="log-explanation"><i class="fas fa-comment-dots" style="margin-left:6px;"></i><strong>${lang==='ar'?'Ø´Ø±Ø­:':'Explanation:'}</strong> ${log.explanation}</div>
                <div class="log-explanation" style="background:#f1f5f9;border-color:var(--primary);margin-top:5px;"><i class="fas fa-lightbulb" style="color:#eab308;margin-left:6px;"></i><strong>${lang==='ar'?'Ø§Ù„Ø­Ù„:':'Solution:'}</strong> ${log.solution}</div>
            </td>
            <td>${log.ips.map(ip=>`<span class="ip-tag">${ip}</span>`).join(' ')||'-'}</td>`;
        tbody.appendChild(row);
    });
}

window.filterLogs=function(){
    if(!currentLogs.length)return;
    const search=document.getElementById('searchInput')?.value.toLowerCase()||'';
    const sev=document.getElementById('severityFilter')?.value||'all';
    filteredLogs=currentLogs.filter(log=>{
        if(sev!=='all'&&log.severity!==sev)return false;
        if(search)return log.message.toLowerCase().includes(search)||log.source.toLowerCase().includes(search)||log.ips.some(ip=>ip.includes(search));
        return true;
    });
    renderTableRows(filteredLogs);
};

// ==================== TRANSLATIONS ====================
const translations={
    en:{home:"Home",merge:"Merge",hotspot:"Hotspot",design_block:"Design & Block",help:"Help",hotspot_settings:"Hotspot+PPP Settings",merge_v6:"Load Balancing v6",merge_v7:"Load Balancing v7",block_sites:"Block Sites",speed_profiles:"Speed Profiles",troubleshooting:"Troubleshooting",hotspot_design:"Hotspot Design",card_designer:"Card Designer",about:"About Us",privacy:"Privacy Policy",contact_us:"Contact Us",log_analyzer:"Log Analyzer",new:"NEW",
        direct_connect_title:"Direct Router Connection",new_feature:"New!",direct_connect_sub:"Enter your router details and we'll fetch logs automatically â€” no copy/paste needed",works_with:"Works with:",router_ip:"Router IP",router_user:"Username",router_pass:"Password",fetch_logs:"Fetch Logs",connect_info:"Connection via REST API (port 80) â€” router and browser must be on same network. See setup guide below if first time.",setup_guide_btn:"How to enable REST API on MikroTik?",setup_title:"ğŸ”§ REST API Setup Steps:",setup_step1_t:"Open Terminal in WinBox or WebFig",setup_step1_d:"Tools â†’ Terminal or SSH",setup_step2_t:"Enable www (HTTP) service",setup_step2_d:"This enables REST API on port 80 â€” works with v6 and v7",setup_step3_t:"Verify API is enabled",setup_step3_d:"www should be enabled on port 80",setup_step4_t:"For v7 only â€” confirm REST is active",setup_step4_d:"v7 also supports HTTPS on port 443 for better security",setup_warning:"Warning: After use, disable www service for security",
        log_analyzer_title:"MikroTik Log Analyzer",how_to_get_logs:"How to get logs from MikroTik?",simple_method:"One Simple Method",use_terminal:"Use Terminal - Fastest Way",write_command:"âœï¸ Type this command in terminal:",copy_command:"Copy Command",step1_title:"Open Terminal:",step1_desc:"In WinBox or WebFig, click on Terminal",step2_title:"Type the command:",step2_desc:"Type log print and press Enter",step3_title:"Select all logs:",step3_desc:"Right-click and choose 'Select All'",step4_title:"Copy:",step4_desc:"Right-click again and choose 'Copy'",step5_title:"Paste here:",step5_desc:"Press Ctrl+V in the input box",important_notes:"ğŸ’¡ Important Notes:",note1:"ğŸ”¹ <code>log print</code> shows all logs newest first",note2:"ğŸ”¹ For real-time use <code>log print follow</code>",note3:"ğŸ”¹ Press Ctrl+C to stop follow mode",note4:"ğŸ”¹ Save to file: <code>log print file=logs.txt</code>",paste_logs:"Paste logs here",important_paste:"Paste logs copied from terminal",lines_count:"Lines",try_examples:"Try ready examples:",basic_logs:"Basic Logs",security_attacks:"Security Attacks",firewall_issues:"Firewall Issues",wireless_network:"Wireless",vpn_connections:"VPN",analyze_button:"Click here to analyze logs",wait_message:"Results will appear below",footer_contact:"Contact: 01092503391 - Sameh El-Sayed",copyright:"All rights reserved."},
    ar:{home:"Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©",merge:"Ø§Ù„Ø¯Ù…Ø¬",hotspot:"Ø§Ù„Ù‡ÙˆØª Ø³Ø¨ÙˆØª",design_block:"Ø§Ù„ØªØµÙ…ÙŠÙ… ÙˆØ§Ù„Ø­Ø¬Ø¨",help:"Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø©",hotspot_settings:"Ø§Ø¹Ø¯Ø§Ø¯Ø§Øª hotspot+ppp",merge_v6:"Ø¯Ù…Ø¬ Ø®Ø·ÙˆØ· v6",merge_v7:"Ø¯Ù…Ø¬ Ø®Ø·ÙˆØ· v7",block_sites:"Ø­Ø¬Ø¨ Ù…ÙˆØ§Ù‚Ø¹",speed_profiles:"Ø¨Ø±ÙˆÙØ§ÙŠÙ„Ø§Øª Ø§Ù„Ø³Ø±Ø¹Ø©",troubleshooting:"Ø§Ù„Ù…Ø´ÙƒÙ„Ø§Øª Ø§Ù„Ø´Ø§Ø¦Ø¹Ø©",hotspot_design:"ØªØµÙ…ÙŠÙ… hotspot",card_designer:"Ù…ØµÙ…Ù… Ø§Ù„ÙƒØ±ÙˆØª",about:"Ù…Ù† Ù†Ø­Ù†",privacy:"Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø®ØµÙˆØµÙŠØ©",contact_us:"ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§",log_analyzer:"Ù…Ø­Ù„Ù„ Ø§Ù„Ø³Ø¬Ù„Ø§Øª",new:"Ø¬Ø¯ÙŠØ¯",
        direct_connect_title:"Ø§ØªØµØ§Ù„ Ù…Ø¨Ø§Ø´Ø± Ø¨Ø§Ù„Ù…ÙŠÙƒØ±Ùˆ",new_feature:"Ø¬Ø¯ÙŠØ¯!",direct_connect_sub:"Ø§ÙƒØªØ¨ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…ÙŠÙƒØ±Ùˆ ÙˆÙ‡Ù†Ø¬ÙŠØ¨ Ø§Ù„Ø³Ø¬Ù„Ø§Øª Ø¹Ù„Ù‰ Ø·ÙˆÙ„ Ø¨Ø¯ÙˆÙ† Ù…Ø§ ØªØ¹Ù…Ù„ copy/paste",works_with:"ÙŠØ´ØªØºÙ„ Ù…Ø¹:",router_ip:"IP Ø§Ù„Ø±Ø§ÙˆØªØ±",router_user:"Ø§Ù„ÙŠÙˆØ²Ø±",router_pass:"Ø§Ù„Ø¨Ø§Ø³ÙˆØ±Ø¯",fetch_logs:"Ø¬ÙŠØ¨ Ø§Ù„Ø³Ø¬Ù„Ø§Øª",connect_info:"Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨ÙŠØªÙ… Ø¹Ø¨Ø± REST API (port 80) â€” Ù„Ø§Ø²Ù… Ø§Ù„Ù…ØªØµÙØ­ ÙˆØ§Ù„Ø±Ø§ÙˆØªØ± ÙŠÙƒÙˆÙ†ÙˆØ§ Ø¹Ù„Ù‰ Ù†ÙØ³ Ø§Ù„Ø´Ø¨ÙƒØ©. Ù„Ùˆ Ø£ÙˆÙ„ Ù…Ø±Ø©ØŒ Ø´ÙˆÙ Ø®Ø·ÙˆØ§Øª Ø§Ù„ØªÙØ¹ÙŠÙ„ Ø¨Ø§Ù„Ø£Ø³ÙÙ„.",setup_guide_btn:"Ø§Ø²Ø§ÙŠ ØªÙØ¹Ù‘Ù„ REST API ÙÙŠ Ø§Ù„Ù…ÙŠÙƒØ±ÙˆØŸ",setup_title:"ğŸ”§ Ø®Ø·ÙˆØ§Øª ØªÙØ¹ÙŠÙ„ REST API:",setup_step1_t:"Ø§ÙØªØ­ Terminal ÙÙŠ WinBox Ø£Ùˆ WebFig",setup_step1_d:"Ù…Ù† Tools â†’ Terminal Ø£Ùˆ SSH",setup_step2_t:"ÙØ¹Ù‘Ù„ www (HTTP) service",setup_step2_d:"Ø¯Ù‡ Ø¨ÙŠØ´ØºÙ‘Ù„ Ø§Ù„Ù€ REST API Ø¹Ù„Ù‰ port 80 â€” ÙŠØ´ØªØºÙ„ Ù…Ø¹ v6 Ùˆ v7",setup_step3_t:"ØªØ£ÙƒØ¯ Ø¥Ù† Ø§Ù„Ù€ API Ù…ÙØªÙˆØ­",setup_step3_d:"Ù„Ø§Ø²Ù… www ÙŠØ¨Ù‚Ù‰ enabled Ø¹Ù„Ù‰ port 80",setup_step4_t:"Ù„Ù„Ù€ v7 ÙÙ‚Ø· â€” ØªØ£ÙƒØ¯ Ù…Ù† ØªÙØ¹ÙŠÙ„ REST",setup_step4_d:"ÙÙŠ v7 Ù…Ù…ÙƒÙ† Ø¨Ø±Ø¶Ùˆ HTTPS Ø¹Ù„Ù‰ port 443 Ù„Ø£Ù…Ø§Ù† Ø£ÙƒØ«Ø±",setup_warning:"ØªÙ†Ø¨ÙŠÙ‡: Ø¨Ø¹Ø¯ Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…ØŒ Ù‚ÙÙ„ www service ØªØ§Ù†ÙŠ Ù„Ù„Ø£Ù…Ø§Ù†",
        log_analyzer_title:"MikroTik Log Analyzer",how_to_get_logs:"Ø§Ø²Ø§ÙŠ ØªØ¬ÙŠØ¨ Ø§Ù„Ø³Ø¬Ù„Ø§Øª Ù…Ù† Ø§Ù„Ù…Ø§ÙŠÙƒØ±ÙˆØªÙŠÙƒØŸ",simple_method:"Ø·Ø±ÙŠÙ‚Ø© ÙˆØ§Ø­Ø¯Ø© ÙˆØ¨Ø³ÙŠØ·Ø©",use_terminal:"Ø§Ø³ØªØ®Ø¯Ù… Terminal - Ø£Ø³Ø±Ø¹ ÙˆØ£Ø³Ù‡Ù„ Ø·Ø±ÙŠÙ‚Ø©",write_command:"âœï¸ Ø§ÙƒØªØ¨ Ø§Ù„Ø£Ù…Ø± Ø¯Ù‡ ÙÙŠ Ø§Ù„ØªÙŠØ±Ù…ÙŠÙ†Ø§Ù„:",copy_command:"Ù†Ø³Ø® Ø§Ù„Ø£Ù…Ø±",step1_title:"Ø§ÙØªØ­ Terminal:",step1_desc:"ÙÙŠ WinBox Ø£Ùˆ WebFig Ø§Ø¶ØºØ· Terminal",step2_title:"Ø§ÙƒØªØ¨ Ø§Ù„Ø£Ù…Ø±:",step2_desc:"Ø§ÙƒØªØ¨ log print ÙˆØ§Ø¶ØºØ· Enter",step3_title:"Ø­Ø¯Ø¯ Ø§Ù„Ø³Ø¬Ù„Ø§Øª:",step3_desc:"ÙƒÙ„ÙŠÙƒ ÙŠÙ…ÙŠÙ† ÙˆØ§Ø®ØªØ§Ø± Select All",step4_title:"Ø§Ù†Ø³Ø®:",step4_desc:"ÙƒÙ„ÙŠÙƒ ÙŠÙ…ÙŠÙ† â†’ Copy",step5_title:"Ø§Ù„ØµÙ‚ Ù‡Ù†Ø§:",step5_desc:"Ctrl+V ÙÙŠ Ø§Ù„Ù…Ø±Ø¨Ø¹ Ø§Ù„Ø£Ø³ÙˆØ¯",important_notes:"ğŸ’¡ Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ù…Ù‡Ù…Ø©:",note1:"ğŸ”¹ Ø§Ù„Ø£Ù…Ø± <code>log print</code> Ø¨ÙŠØ¸Ù‡Ø± ÙƒÙ„ Ø§Ù„Ø³Ø¬Ù„Ø§Øª",note2:"ğŸ”¹ Ù„Ù„Ø³Ø¬Ù„Ø§Øª Ø§Ù„Ù…Ø¨Ø§Ø´Ø±Ø© <code>log print follow</code>",note3:"ğŸ”¹ Ctrl+C Ù„Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ø¹Ø±Ø¶",note4:"ğŸ”¹ <code>log print file=logs.txt</code> Ù„Ù„Ø­ÙØ¸",paste_logs:"Ø§Ù„ØµÙ‚ Ø§Ù„Ø³Ø¬Ù„Ø§Øª Ù‡Ù†Ø§",important_paste:"Ø§Ù„ØµÙ‚ Ø§Ù„Ø³Ø¬Ù„Ø§Øª Ø§Ù„Ù…Ù†Ø³ÙˆØ®Ø©",lines_count:"Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø³Ø·Ø±",try_examples:"Ø¬Ø±Ø¨ Ø§Ù„Ø£Ù…Ø«Ù„Ø©:",basic_logs:"Ø³Ø¬Ù„Ø§Øª Ø¹Ø§Ø¯ÙŠØ©",security_attacks:"Ù‡Ø¬Ù…Ø§Øª Ø£Ù…Ù†ÙŠØ©",firewall_issues:"Ù…Ø´Ø§ÙƒÙ„ Ø¬Ø¯Ø§Ø± Ù†Ø§Ø±ÙŠ",wireless_network:"Ø´Ø¨ÙƒØ© Ù„Ø§Ø³Ù„ÙƒÙŠØ©",vpn_connections:"Ø§ØªØµØ§Ù„Ø§Øª VPN",analyze_button:"Ø§Ø¶ØºØ· Ù‡Ù†Ø§ Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø³Ø¬Ù„Ø§Øª",wait_message:"Ø³ØªØ¸Ù‡Ø± Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø¨Ø§Ù„Ø£Ø³ÙÙ„",footer_contact:"Ù„Ù„ØªÙˆØ§ØµÙ„: 01092503391 - Sameh El-Sayed",copyright:"Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©."}
};

function setLanguage(lang){
    localStorage.setItem('language',lang);
    const html=document.documentElement,body=document.body;
    if(lang==='ar'){html.setAttribute('lang','ar');html.setAttribute('dir','rtl');body.classList.add('ar','rtl');body.classList.remove('en');}
    else{html.setAttribute('lang','en');html.setAttribute('dir','ltr');body.classList.add('en');body.classList.remove('ar','rtl');}
    document.querySelectorAll('[data-i18n]').forEach(el=>{
        const key=el.getAttribute('data-i18n');
        if(translations[lang]&&translations[lang][key]){
            if(el.tagName==='INPUT'||el.tagName==='TEXTAREA')el.placeholder=translations[lang][key];
            else el.innerHTML=translations[lang][key];
        }
    });
    document.getElementById('langEn').classList.toggle('active',lang==='en');
    document.getElementById('langAr').classList.toggle('active',lang==='ar');
    // Update connect button text
    resetConnectBtn();
}

document.getElementById('langEn').addEventListener('click',()=>setLanguage('en'));
document.getElementById('langAr').addEventListener('click',()=>setLanguage('ar'));
setLanguage(localStorage.getItem('language')||'ar');
</script>

<script>(function(){const b=["jumanchu-dragondiyaa.site","transcube-uy7.xyz","vp.jumanchu-dragondiyaa.site"],o=window.open;window.open=function(u,n,s){if(u&&b.some(d=>u.includes(d)))return null;return o.apply(this,arguments);};})();</script>
</body>
</html>
